# The awesome Q/A Tool 

This project uses [Playwright](https://playwright.dev/) for end-to-end testing of The awesome Q/A Tool application.Allure and html reports are used for reporting. Winston logger is used for logging.

## Purpose 

This document serves as a guide for automating tasks on the Awesome QA Tool website using the Playwright automation framework. It aims to streamline repetitive tasks and improve efficiency in creating questions and answers. 

## Prerequisites

Before running the tests, ensure you have the following installed:

- Node.js (version >= 14) from [https://nodejs.org]
- npm (Node Package Manager)

## Browser Compatibility 

- Chrome, Firefox, WebKit (Safari), Edge, and Chromium 

## Getting Started

### Folder and File Descriptions

- **`playwright-test/`**: Contains the folders/files related to playwright test automation.
  - **`tests/`**: Contains all your test files.
  - **`utils/`**: Utility functions or helper modules for tests.
- **`allure-report/`**: Stores test reports.
- **`allure-results/`**: Stores allure  results for test reports.
- **`playwright-report/`**: Contains html report.
- **`test-results/`**: Detailed test results.
- **`playwright.config.js/`**: Configuration files for Playwright and related settings.
- **`logs`**: Detailed log file after the execution.
- **`node_modules/`**: Installed npm packages (generated by npm).
- **`.gitignore`**: Specifies files and directories to be ignored by Git.
- **`package.json`**: Project metadata and dependencies.
- **`package-lock.json`**: Records the exact versions of installed dependencies.
- **`README.md`**: Documentation file for the project.

## Installation, Running and Writing Tests

### Installation Steps 

**Clone Repository**

 ```sh
   git clone https://github.com/sradha-mohanty/awesome-qa-tool.git

   cd awesome-qa-tool
 ```
**Install dependencies**
  Open a terminal in Visual Studio Code.
  Run the following command: 
 ```sh
    npm install 
 ```
### Running the Automation Tests

  Navigate to the project directory. 
  Run the automation scripts using the following command: 
 ```sh
   npm run test:local
 ```
 It runs the test and once it is completed, it opens the allure report and html playwright-report

### Generating Reports 

 Playwright provides built-in support for generating test reports using various formats such as Html, JSON, JUnit XML, etc. 

**Command to generate an HTML playwright report:**
 ```sh
    npm run open-html-report  
 ```
**Command to generate allure report:**
 ```sh
    npm run open-allure-report  
 ```
**Check the logs post execution:**

   Go to logs folder from source directory and check the `Date`-app-log.log file

### Writing Tests
  Tests are located in the playwright-test/tests directory. You can create new test files with the .spec.js  extension. Hereâ€™s an example of a simple test:

  ```sh
      test('Submit Questions and Answers',async({page})=>{
        expect(page.url()).toBe('http://localhost:8000/');
        const obj=new QATool(page);
        const qnaList = testdata.slice(1, testdata.length);
        for(let data of qnaList){
        await obj.createQuestion(data);
        await obj.submitQuestion();
        await obj.checkTextOfQnA();
        await obj.checkCountOfQnA();
        }  
        logger.info("Question and Answers submitted successfully");
      });
  ```
## Steps to run the project in azure pipeline

To run the pipeline and generate the azure report, follow the below steps:

**Prerequisites**: Need to have an azure account to create a pipeline:

1. Click to Pipelines folder
2. Click on New pipeline
3. Choose github option from the list
4. Choose your repository
5. Click on Approve & Install 
6. Validate and Save in the pipeline.
7. Once the pipeline runs successfully, go to the Tests folder from the pipeline and check the test results

### Pipeline Configuration:
```sh
```yaml
trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
- script: npm install
  displayName: 'Install npm'

- script: npx playwright install
  displayName: 'Install Playwright'

- script: npm run test:azure
  displayName: 'Run all tests'

- task: PublishTestResults@2
  inputs:
    testResultsFormat: 'JUnit'
    testResultsFiles: 'test-results/results.xml'
    mergeTestResults: true
    testRunTitle: 'Playwright JUnit Test Results'
  condition: always()
  displayName: 'Publish JUnit Test Results'
```
## Contributing to the project

If you'd like to contribute to this project, please follow these steps:

1. Clone the repository.
2. Create your feature branch: `git checkout -b feature/YourFeatureName`.
3. Commit your changes: `git commit -am 'Add some feature'`.
4. Push to the branch: `git push origin feature/YourFeatureName`.
5. Submit a pull request.